{"ast":null,"code":"import React from \"react\";\nimport api from \"./api\";\nimport { setUserType } from \"../store/usuario\";\nconst loginUser = async (data, dispatch) => {\n  const login = JSON.stringify(data);\n  const loginString = JSON.parse(login);\n  const payloadString = loginString[\"payload\"];\n  try {\n    const response = await api.post(\"/login\", payloadString);\n    saveTokenLocally(response.data);\n    dispatch(setUserType(response.data));\n  } catch (error) {\n    console.error(\"Erro de login:\", error);\n    throw error;\n  }\n};\nconst saveTokenLocally = data => {\n  localStorage.setItem(\"token\", data.token);\n  localStorage.setItem(\"tipoUsuario\", data.tipoUsuario);\n  localStorage.setItem(\"id\", data.id);\n};\nconst getToken = () => {\n  return localStorage.getItem(\"token\");\n};\nexport { loginUser, getToken, saveTokenLocally };","map":{"version":3,"names":["React","api","setUserType","loginUser","data","dispatch","login","JSON","stringify","loginString","parse","payloadString","response","post","saveTokenLocally","error","console","localStorage","setItem","token","tipoUsuario","id","getToken","getItem"],"sources":["C:/Users/User/Interpretes-de-Libras/front-end/src/services/auth.js"],"sourcesContent":["import React from \"react\";\r\nimport api from \"./api\";\r\nimport { setUserType } from \"../store/usuario\";\r\n\r\nconst loginUser = async (data, dispatch) => {\r\n  const login = JSON.stringify(data);\r\n  const loginString = JSON.parse(login);\r\n  const payloadString = loginString[\"payload\"];\r\n\r\n  try {\r\n    const response = await api.post(\"/login\", payloadString);\r\n    saveTokenLocally(response.data);\r\n    dispatch(setUserType(response.data));\r\n  } catch (error) {\r\n    console.error(\"Erro de login:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst saveTokenLocally = (data) => {\r\n  localStorage.setItem(\"token\", data.token);\r\n  localStorage.setItem(\"tipoUsuario\", data.tipoUsuario);\r\n  localStorage.setItem(\"id\", data.id);\r\n};\r\n\r\nconst getToken = () => {\r\n  return localStorage.getItem(\"token\");\r\n};\r\n\r\nexport { loginUser, getToken, saveTokenLocally };\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,OAAO;AACvB,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,QAAQ,KAAK;EAC1C,MAAMC,KAAK,GAAGC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;EAClC,MAAMK,WAAW,GAAGF,IAAI,CAACG,KAAK,CAACJ,KAAK,CAAC;EACrC,MAAMK,aAAa,GAAGF,WAAW,CAAC,SAAS,CAAC;EAE5C,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMX,GAAG,CAACY,IAAI,CAAC,QAAQ,EAAEF,aAAa,CAAC;IACxDG,gBAAgB,CAACF,QAAQ,CAACR,IAAI,CAAC;IAC/BC,QAAQ,CAACH,WAAW,CAACU,QAAQ,CAACR,IAAI,CAAC,CAAC;EACtC,CAAC,CAAC,OAAOW,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACtC,MAAMA,KAAK;EACb;AACF,CAAC;AAED,MAAMD,gBAAgB,GAAIV,IAAI,IAAK;EACjCa,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEd,IAAI,CAACe,KAAK,CAAC;EACzCF,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEd,IAAI,CAACgB,WAAW,CAAC;EACrDH,YAAY,CAACC,OAAO,CAAC,IAAI,EAAEd,IAAI,CAACiB,EAAE,CAAC;AACrC,CAAC;AAED,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EACrB,OAAOL,YAAY,CAACM,OAAO,CAAC,OAAO,CAAC;AACtC,CAAC;AAED,SAASpB,SAAS,EAAEmB,QAAQ,EAAER,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}